{% extends "sidebar.html" %}
{% block content %}
<h3> {{event.c_name}}<br> {{event.e_name}} </h3>
<hr>
<div>
    {% if start_date not in end_date %}
        <p>Start: {{start_date}}, {{start_day}} {{start_time}}</p>
        <p>End: {{end_date}}, {{end_day}} {{end_time}}</p>
    {% else %}
        <p>Date: {{start_date}}, {{start_day}}
        <p>Time: {{start_time}} to {{end_time}}</p>
    {% endif %}
    <p>Location: {{event.venue}}</p>
    <p>Description: {{event.desc}}</p>
</div>
<br>
{% if not 'Registered' in page_name%}
{% if request.user.role in 'STUDENT' %}
    {% if parts %}
        <button
        type="button"
        class="btn btn-primary"
        data-toggle="modal"
        data-target="#reg_event_modal"
        disabled
        >
        Registered
        </button>
    {% else %}
        <button
        type="button"
        class="btn btn-primary"
        data-toggle="modal"
        data-target="#reg_event_modal"
        >
        Register
        </button>
    {% endif %}

{% endif %}
{% endif %}

<!-- Modal for Add Event -->
<form method="POST">
    {% csrf_token %}
    <div class="modal fade" id="reg_event_modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Register Event</h5>
                    <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                    >
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Confirm to register in this event?</p>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-success" name="register">Yes</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
                </div>
            </div>
        </div>
    <div>
</form>
{% endblock %}