<!DOCTYPE html>
<html>

<head>
    {% load static %}
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'css/event_list.css' %}">
    <!-- MDB -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.css" rel="stylesheet" />
    <!-- MDB -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="https://fonts.cdnfonts.com/css/mona-sans" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'css/sidebar.css' %}">

    <title>{{request.resolver_match.url_name}}</title>

</head>

<body>
    <div class="page-wrapper chiller-theme toggled">
        <a id="show-sidebar" class="btn btn-sm btn-dark" href="#">
            <i class="fas fa-bars"></i>
        </a>
        <nav id="sidebar" class="sidebar-wrapper">
            <div class="sidebar-content">
                <div class="sidebar-brand">
                    <a href="#">Learning Passport</a>
                    <div id="close-sidebar">
                        <i class="fas fa-times"></i>
                    </div>
                </div>
                <div class="sidebar-header">
                    <div class="user-pic">
                        <i class="fa fa-user" style="font-size:25px"></i>
                    </div>
                    <div class="user-info">
                        <!-- <br> -->
                        {% if request.user.is_authenticated %}
                        <span class="user-name">
                            <strong>{{ request.user.full_name }}</strong>
                        </span>
                        <span class="user-role">
                            <strong>ROLE: {{ request.user.get_role_display }}</strong>
                        </span>
                        <a href="{% url 'logout' %}"><strong>Logout</strong></a>
                        {% else %}
                        <a href="{% url 'login' %}"><strong>Login</strong></a>
                        {% endif %}
                    </div>
                </div>
                <div class="sidebar-menu">
                    <ul>
                        <li class="header-menu">
                            <span>User</span>
                            <ul id="userAction">

                                {% if request.user.is_authenticated %}

                                <li class="sidebar-dropdown">
                                    <a href="{% url 'change-password' %}"><strong>Change Password</strong></a>
                                </li>
                                <li class="sidebar-dropdown">
                                    <a href="{% url 'dashboard' %}">Dashboard</a>
                                </li>
                                <li class="sidebar-dropdown">
                                    <a href="{% url 'announcements' %}">Announcements</a>
                                </li>
                                {% else %}
                                <li class="sidebar-dropdown">
                                    <a href="{% url 'login' %}"><strong>Login</strong></a>
                                </li>
                                {% endif %}


                            </ul>
                        </li>



                        {% if request.user.is_authenticated %}
                        <li class="header-menu">
                            <span>Events</span>
                        </li>

                        <li class="sidebar-dropdown">
                            <a href="{% url 'events' %}">
                                <span>Event List</span>
                            </a>
                        </li>
                        {% if request.user.role in 'STUDENT' %}
                        <li class="sidebar-dropdown">
                            <a href="{% url 'attendance' %}">
                                <span>Take Attendance</span>
                            </a>
                        </li>
                        {% endif %}

                        {% if 'STUDENT' in request.user.get_role_display %}
                        <li class="header-menu">
                            <span>Upload Documents</span>
                        <li class="sidebar-dropdown">
                            <a href="{% url 'submit-event' %}">Event Comittee </a>
                        </li>
                        <li class="sidebar-dropdown">
                            <a href="{% url 'submit-org' %}">Organisation Comittee</a>
                        </li>
                        <li class="sidebar-dropdown">
                            <a href="{% url 'submit-article' %}">Article</a>
                        </li>


                        {% elif 'ADMIN' in request.user.get_role_display %}
                        <li class="header-menu">
                            <span>Verify Documents</span>
                        <li class="sidebar-dropdown">
                            <a href="{% url 'verify-event' %}">Event Comittee </a>
                        </li>
                        <li class="sidebar-dropdown">
                            <a href="{% url 'verify-org' %}">Organisation Comittee</a>
                        </li>
                        <li class="sidebar-dropdown">
                            <a href="{% url 'verify-article' %}">Article</a>
                        </li>
                        {% endif %}
                        </li>


                        <li class="header-menu">
                            <span>Transcript</span>
                        </li>
                        {% comment %} <li class="sidebar-dropdown">
                            <a href="#">
                                <span>Event</span>
                            </a>
                        </li>

                        <li class="sidebar-dropdown">
                            <a href="#">
                                <span>Article</span>
                            </a>
                        </li> {% endcomment %}

                        <li class="sidebar-dropdown">
                            <a href="#">
                                <span>Generate Transcript</span>
                            </a>
                        </li>
                        {% endif %}
                    </ul>
                </div>
            </div>

            <!-- sidebar-menu  -->
        </nav>
        <!-- sidebar-wrapper  -->
        <main class="page-content">
            <br>

            <div class="container-md align-items-center justify-content-center" style="width:fit-content;">
                {% if messages %}
                <br>
                {% for message in messages %}
                {% if message.tags in 'error' %}
                <div class="alert alert-danger" role="alert">{{ message }}</div>
                {% else %}
                <div class="alert alert-{{message.tags}}" role="alert">{{ message }}</div>
                {% endif %}

                {% endfor %}
                {% endif %}
            </div>
            <div class="container-fluid">
                {% block content %}{% endblock %}
            </div>
        </main>
    </div>
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/esm/popper.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/js/bootstrap.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>

    $("#close-sidebar").click(function () {
        $(".page-wrapper").removeClass("toggled");
    });
    $("#show-sidebar").click(function () {
        $(".page-wrapper").addClass("toggled");
    });

</script>

</html>